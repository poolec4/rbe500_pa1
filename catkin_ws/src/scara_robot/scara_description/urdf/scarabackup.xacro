<?xml version="1.0"?>
<!-- Revolute-Revolute-Prismatic Manipulator -->
<robot name="scara" xmlns:xacro="http://www.ros.org/wiki/xacro">
  
  <xacro:property name="PI" value="3.1415926535897931"/>
  <!-- Import all Gazebo-customization elements, including Gazebo colors -->
  <xacro:include filename="$(find scara_description)/urdf/scara.gazebo" />
  <!-- Import Rviz colors -->
  <xacro:include filename="$(find scara_description)/urdf/materials.xacro" />

  <!-- WORLD LINK -->
  <link name="world"/>

  <!-- WORLD JOINT -->
  <joint name="fixed" type="fixed">
    <parent link="world"/>
    <child link="link0"/>
  </joint>

  <!-- GROUND LINK -->
  <link name="link0">
    <visual>
        <origin xyz="0 0 0" rpy="0 0 0" />
        <geometry>
          <box size="0.5 0.5 0.1"/>
        </geometry>
    </visual>
  </link>

  <!-- LINK 1 -->
  <link name="link1">
    <visual>
        <origin xyz="0 0 0" rpy="0 0 0" />
        <geometry>
          <cylinder length="1" radius="0.25"/>
        </geometry>
    </visual>
  </link>

  <!-- JOINT 1 -->
  <joint name="joint1" type="continuous">
    <parent link="link0"/>
    <child link="link1"/>
    <origin xyz="0 0 0" rpy="0 0 0"/>
    <axis xyz="0 0 1"/>
  </joint>

  <!-- LINK 1 INT. -->
  <link name="link1_int">
    <visual>
        <origin xyz="0 0 0" rpy="0 1.570796327 0" />
        <geometry>
          <cylinder length="1" radius="0.25"/>
        </geometry>
    </visual>
  </link>

  <!-- JOINT 1 INT. -->
  <joint name="joint1_int" type="fixed">
    <parent link="link1"/>
    <child link="link1_int"/>
    <origin xyz="0 0 1" rpy="0 0 0"/>
  </joint>

  <!-- LINK 2 -->
  <link name="link2">
    <visual>
        <origin xyz="0 0 0" rpy="0 1.570796327 0" />
        <geometry>
          <cylinder length="1" radius="0.25"/>
        </geometry>
    </visual>
  </link>

  <!-- JOINT 2 -->
  <joint name="joint2" type="continuous">
    <parent link="link1_int"/>
    <child link="link2"/>
    <origin xyz="0 0 1" rpy="0 0 0"/>
    <axis xyz="0 0 1"/>
  </joint>

  <plugin name="gazebo_ros_control" filename="libgazebo_ros_control.so">
    <robotNamespace>/scara</robotNamespace>
  </plugin>

</robot>
